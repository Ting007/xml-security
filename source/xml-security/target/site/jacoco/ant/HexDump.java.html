<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>HexDump.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">JaCoCo Ant Example</a> &gt; <a href="index.source.html" class="el_package">ant</a> &gt; <span class="el_source">HexDump.java</span></div><h1>HexDump.java</h1><pre class="source lang-java linenums">/*
 * The Apache Software License, Version 1.1
 *
 *
 * Copyright (c) 1999 The Apache Software Foundation.  All rights
 * reserved.
 *
 * Redistribution and use in source and binary forms, with or without
 * modification, are permitted provided that the following conditions
 * are met:
 *
 * 1. Redistributions of source code must retain the above copyright
 *    notice, this list of conditions and the following disclaimer.
 *
 * 2. Redistributions in binary form must reproduce the above copyright
 *    notice, this list of conditions and the following disclaimer in
 *    the documentation and/or other materials provided with the
 *    distribution.
 *
 * 3. The end-user documentation included with the redistribution,
 *    if any, must include the following acknowledgment:
 *       &quot;This product includes software developed by the
 *        Apache Software Foundation (http://www.apache.org/).&quot;
 *    Alternately, this acknowledgment may appear in the software itself,
 *    if and wherever such third-party acknowledgments normally appear.
 *
 * 4. The names &quot;&lt;WebSig&gt;&quot; and &quot;Apache Software Foundation&quot; must
 *    not be used to endorse or promote products derived from this
 *    software without prior written permission. For written
 *    permission, please contact apache@apache.org.
 *
 * 5. Products derived from this software may not be called &quot;Apache&quot;,
 *    nor may &quot;Apache&quot; appear in their name, without prior written
 *    permission of the Apache Software Foundation.
 *
 * THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED
 * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES
 * OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
 * DISCLAIMED.  IN NO EVENT SHALL THE APACHE SOFTWARE FOUNDATION OR
 * ITS CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF
 * USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
 * ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,
 * OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT
 * OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF
 * SUCH DAMAGE.
 * ====================================================================
 *
 * This software consists of voluntary contributions made by many
 * individuals on behalf of the Apache Software Foundation and was
 * originally based on software copyright (c) 2001, Institute for
 * Data Communications Systems, &lt;http://www.nue.et-inf.uni-siegen.de/&gt;.
 * The development of this software was partly funded by the European
 * Commission in the &lt;WebSig&gt; project in the ISIS Programme.
 * For more information on the Apache Software Foundation, please see
 * &lt;http://www.apache.org/&gt;.
 */

package ant;

import java.io.*;
import sun.misc.HexDumpEncoder;

/**
 *
 * @author Niko Schweitzer
 */
<span class="nc" id="L69">public class HexDump {</span>
   /**
    * Method prettyPrintHex
    *
    *
    * @param baToConvert
    * @return hexdump string
    */
   public static String prettyPrintHex(byte[] baToConvert) {

<span class="nc" id="L79">      HexDumpEncoder hde = new HexDumpEncoder();</span>

<span class="nc" id="L81">      return hde.encodeBuffer(baToConvert);</span>
   }

   /**
    * Method prettyPrintHex
    *
    *
    * @param sToConvert
    * @return hexdump string
    */
   public static String prettyPrintHex(String sToConvert) {
<span class="nc" id="L92">      return prettyPrintHex(sToConvert.getBytes());</span>
   }

   /** Field DEBUG */
<span class="nc" id="L96">   private static boolean DEBUG = false;</span>

   /** Field HEX_DIGITS */
<span class="nc" id="L99">   private final static char[] HEX_DIGITS = { '0', '1', '2', '3', '4', '5', '6',</span>
                                              '7', '8', '9', 'A', 'B', 'C', 'D',
                                              'E', 'F' };

   /** Field BIT_DIGIT */
<span class="nc" id="L104">   private static char[] BIT_DIGIT = { '0', '1' };</span>

   /** Field COMPARE_BITS */
<span class="nc" id="L107">   private final static byte[] COMPARE_BITS = { (byte) 0x80, (byte) 0x40,</span>
                                                (byte) 0x20, (byte) 0x10,
                                                (byte) 0x08, (byte) 0x04,
                                                (byte) 0x02, (byte) 0x01 };

   /** Field BYTE_SEPARATOR */
<span class="nc" id="L113">   private static char BYTE_SEPARATOR = ' ';</span>

   /** Field WITH_BYTE_SEPARATOR */
<span class="nc" id="L116">   private static boolean WITH_BYTE_SEPARATOR = true;</span>

   /**
    *  Sets the Debug attribute of the Convert object
    *
    * @param  dbg  The new Debug value
    */
   public static void setDebug(boolean dbg) {
<span class="nc" id="L124">      DEBUG = dbg;</span>
<span class="nc" id="L125">   }</span>

   /**
    *  Sets the WithByteSeparator attribute of the Convert class
    *
    * @param  bs  The new WithByteSeparator value
    */
   public static void setWithByteSeparator(boolean bs) {
<span class="nc" id="L133">      WITH_BYTE_SEPARATOR = bs;</span>
<span class="nc" id="L134">   }</span>

   /**
    *  Sets the ByteSeparator attribute of the Convert class
    *
    * @param  bs  The new ByteSeparator value
    */
   public static void setByteSeparator(char bs) {
<span class="nc" id="L142">      BYTE_SEPARATOR = bs;</span>
<span class="nc" id="L143">   }</span>

   /**
    *  Sets the BitDigits attribute of the Convert class
    *
    * @param  bd             The new BitDigits value
    * @exception  Exception  Description of Exception
    */
   public static void setBitDigits(char[] bd) throws Exception {

<span class="nc bnc" id="L153" title="All 2 branches missed.">      if (bd.length != 2) {</span>
<span class="nc" id="L154">         throw new Exception(&quot;wrong number of characters!&quot;);</span>
      }

<span class="nc" id="L157">      BIT_DIGIT = bd;</span>
<span class="nc" id="L158">   }</span>

   /**
    * Method setBitDigits
    *
    * @param zeroBit
    * @param oneBit
    */
   public static void setBitDigits(char zeroBit, char oneBit) {
<span class="nc" id="L167">      BIT_DIGIT[0] = zeroBit;</span>
<span class="nc" id="L168">      BIT_DIGIT[1] = oneBit;</span>
<span class="nc" id="L169">   }</span>

   /*
    * Converts a byte array to hex string
    */

   /**
    *  Description of the Method
    *
    * @param  block  Description of Parameter
    * @return        Description of the Returned Value
    */
   public static String byteArrayToBinaryString(byte[] block) {

<span class="nc" id="L183">      StringBuffer strBuf = new StringBuffer();</span>
<span class="nc" id="L184">      int iLen = block.length;</span>

      //---- for all bytes of array
<span class="nc bnc" id="L187" title="All 2 branches missed.">      for (int i = 0; i &lt; iLen; i++) {</span>
<span class="nc" id="L188">         byte2bin(block[i], strBuf);</span>

         //---- if bit i is set   ----//
<span class="nc bnc" id="L191" title="All 4 branches missed.">         if ((i &lt; iLen - 1) &amp; WITH_BYTE_SEPARATOR) {</span>
<span class="nc" id="L192">            strBuf.append(BYTE_SEPARATOR);</span>
         }
      }

<span class="nc" id="L196">      return strBuf.toString();</span>
   }

   /**
    * Method toBinaryString
    *
    * @param ba
    * @return
    */
   public static String toBinaryString(byte[] ba) {
<span class="nc" id="L206">      return byteArrayToBinaryString(ba);</span>
   }

   /**
    * Method toBinaryString
    *
    * @param b
    * @return
    */
   public static String toBinaryString(byte b) {

<span class="nc" id="L217">      byte[] ba = new byte[1];</span>

<span class="nc" id="L219">      ba[0] = b;</span>

<span class="nc" id="L221">      return byteArrayToBinaryString(ba);</span>
   }

   /**
    * Method toBinaryString
    *
    * @param s
    * @return
    */
   public static String toBinaryString(short s) {
<span class="nc" id="L231">      return toBinaryString(toByteArray(s));</span>
   }

   /**
    * Method toBinaryString
    *
    * @param i
    * @return
    */
   public static String toBinaryString(int i) {
<span class="nc" id="L241">      return toBinaryString(toByteArray(i));</span>
   }

   /**
    * Method toBinaryString
    *
    * @param l
    * @return
    */
   public static String toBinaryString(long l) {
<span class="nc" id="L251">      return toBinaryString(toByteArray(l));</span>
   }

   /**
    * Method toByteArray
    *
    * @param s
    * @return
    */
   public static final byte[] toByteArray(short s) {

<span class="nc" id="L262">      byte[] baTemp = new byte[2];</span>

<span class="nc" id="L264">      baTemp[1] = (byte) (s);</span>
<span class="nc" id="L265">      baTemp[0] = (byte) (s &gt;&gt; 8);</span>

<span class="nc" id="L267">      return baTemp;</span>
   }

   /**
    * Method toByteArray
    *
    * @param i
    * @return
    */
   public static final byte[] toByteArray(int i) {

<span class="nc" id="L278">      byte[] baTemp = new byte[4];</span>

<span class="nc" id="L280">      baTemp[3] = (byte) i;</span>
<span class="nc" id="L281">      baTemp[2] = (byte) (i &gt;&gt; 8);</span>
<span class="nc" id="L282">      baTemp[1] = (byte) (i &gt;&gt; 16);</span>
<span class="nc" id="L283">      baTemp[0] = (byte) (i &gt;&gt; 24);</span>

<span class="nc" id="L285">      return baTemp;</span>
   }

   /**
    * Method toByteArray
    *
    * @param l
    * @return
    */
   public static final byte[] toByteArray(long l) {

<span class="nc" id="L296">      byte[] baTemp = new byte[8];</span>

<span class="nc" id="L298">      baTemp[7] = (byte) l;</span>
<span class="nc" id="L299">      baTemp[6] = (byte) (l &gt;&gt; 8);</span>
<span class="nc" id="L300">      baTemp[5] = (byte) (l &gt;&gt; 16);</span>
<span class="nc" id="L301">      baTemp[4] = (byte) (l &gt;&gt; 24);</span>
<span class="nc" id="L302">      baTemp[3] = (byte) (l &gt;&gt; 32);</span>
<span class="nc" id="L303">      baTemp[2] = (byte) (l &gt;&gt; 40);</span>
<span class="nc" id="L304">      baTemp[1] = (byte) (l &gt;&gt; 48);</span>
<span class="nc" id="L305">      baTemp[0] = (byte) (l &gt;&gt; 56);</span>

<span class="nc" id="L307">      return baTemp;</span>
   }

   /**
    *  Description of the Method
    *
    * @param  block  Description of Parameter
    * @return        Description of the Returned Value
    */
   public static String byteArrayToHexString(byte[] block) {

<span class="nc" id="L318">      long lTime = System.currentTimeMillis();</span>
<span class="nc" id="L319">      StringBuffer buf = new StringBuffer();</span>
<span class="nc" id="L320">      int len = block.length;</span>

<span class="nc bnc" id="L322" title="All 2 branches missed.">      for (int i = 0; i &lt; len; i++) {</span>
<span class="nc" id="L323">         byte2hex(block[i], buf);</span>

<span class="nc bnc" id="L325" title="All 4 branches missed.">         if ((i &lt; len - 1) &amp; WITH_BYTE_SEPARATOR) {</span>
<span class="nc" id="L326">            buf.append(BYTE_SEPARATOR);</span>
         }
      }

<span class="nc" id="L330">      return buf.toString();</span>
   }

   /**
    *  Description of the Method
    *
    * @param  in  string to be converted
    * @return     String in readable hex encoding
    */
   public static String stringToHexString(String in) {

<span class="nc" id="L341">      byte[] ba = in.getBytes();</span>

<span class="nc" id="L343">      return toHexString(ba);</span>
   }

   /**
    *  Description of the Method
    *
    * @param  block   Description of Parameter
    * @param  offset  Description of Parameter
    * @param  length  Description of Parameter
    * @return         Description of the Returned Value
    */
   public static String byteArrayToHexString(byte[] block, int offset,
                                             int length) {

<span class="nc" id="L357">      long lTime = System.currentTimeMillis();</span>
<span class="nc" id="L358">      StringBuffer buf = new StringBuffer();</span>
<span class="nc" id="L359">      int len = block.length;</span>

<span class="nc" id="L361">      length = length + offset;</span>

<span class="nc bnc" id="L363" title="All 2 branches missed.">      if ((len &lt; length)) {</span>
<span class="nc" id="L364">         length = len;</span>
      }

<span class="nc bnc" id="L367" title="All 2 branches missed.">      for (int i = 0 + offset; i &lt; length; i++) {</span>
<span class="nc" id="L368">         byte2hex(block[i], buf);</span>

<span class="nc bnc" id="L370" title="All 2 branches missed.">         if (i &lt; length - 1) {</span>
<span class="nc" id="L371">            buf.append(&quot;:&quot;);</span>
         }
      }

<span class="nc" id="L375">      return buf.toString();</span>
   }

   /**
    *  Returns a string of hexadecimal digits from a byte array. Each byte is
    *  converted to 2 hex symbols.
    *
    * @param  ba  Description of Parameter
    * @return     Description of the Returned Value
    */
   public static String toHexString(byte[] ba) {
<span class="nc" id="L386">      return toHexString(ba, 0, ba.length);</span>
   }

   /**
    * Method toHexString
    *
    * @param b
    * @return
    */
   public static String toHexString(byte b) {

<span class="nc" id="L397">      byte[] ba = new byte[1];</span>

<span class="nc" id="L399">      ba[0] = b;</span>

<span class="nc" id="L401">      return toHexString(ba, 0, ba.length);</span>
   }

   /**
    *  Description of the Method
    *
    * @param s
    * @return               Description of the Returned Value
    */
   public static String toHexString(short s) {
<span class="nc" id="L411">      return toHexString(toByteArray(s));</span>
   }

   /**
    * Method toHexString
    *
    * @param i
    * @return
    */
   public static String toHexString(int i) {
<span class="nc" id="L421">      return toHexString(toByteArray(i));</span>
   }

   /**
    * Method toHexString
    *
    * @param l
    * @return
    */
   public static String toHexString(long l) {
<span class="nc" id="L431">      return toHexString(toByteArray(l));</span>
   }

   /**
    * Method toString
    *
    * @param ba
    * @return
    */
   public static String toString(byte[] ba) {
<span class="nc" id="L441">      return new String(ba).toString();</span>
   }

   /**
    * Method toString
    *
    * @param b
    * @return
    */
   public static String toString(byte b) {

<span class="nc" id="L452">      byte[] ba = new byte[1];</span>

<span class="nc" id="L454">      ba[0] = b;</span>

<span class="nc" id="L456">      return new String(ba).toString();</span>
   }

   /**
    *  converts String to Hex String. Example: niko -&gt;6E696B6F
    *
    * @param  ba      Description of Parameter
    * @param  offset  Description of Parameter
    * @param  length  Description of Parameter
    * @return         Description of the Returned Value
    */
   public static String toHexString(byte[] ba, int offset, int length) {

<span class="nc" id="L469">      long lTime = System.currentTimeMillis();</span>
      char[] buf;

<span class="nc bnc" id="L472" title="All 2 branches missed.">      if (WITH_BYTE_SEPARATOR) {</span>
<span class="nc" id="L473">         buf = new char[length * 3];</span>
      } else {
<span class="nc" id="L475">         buf = new char[length * 2];</span>
      }

<span class="nc bnc" id="L478" title="All 2 branches missed.">      for (int i = offset, j = 0, k; i &lt; offset + length; ) {</span>
<span class="nc" id="L479">         k = ba[i++];</span>
<span class="nc" id="L480">         buf[j++] = HEX_DIGITS[(k &gt;&gt;&gt; 4) &amp; 0x0F];</span>
<span class="nc" id="L481">         buf[j++] = HEX_DIGITS[k &amp; 0x0F];</span>

<span class="nc bnc" id="L483" title="All 2 branches missed.">         if (WITH_BYTE_SEPARATOR) {</span>
<span class="nc" id="L484">            buf[j++] = BYTE_SEPARATOR;</span>
         }
      }

<span class="nc" id="L488">      return new String(buf);</span>
   }

   /**
    * Converts readable hex-String to byteArray
    *
    * @param strA
    * @return
    */
   public static byte[] hexStringToByteArray(String strA) {
<span class="nc" id="L498">      ByteArrayOutputStream result = new ByteArrayOutputStream();</span>

      // alle Hex-Zeichen konvertieren, den Rest Ignorieren
      // jedes Zeichen stellt einen 4-Bit Wert dar
<span class="nc" id="L502">      byte sum = (byte) 0x00;</span>
<span class="nc" id="L503">      boolean nextCharIsUpper = true;</span>

<span class="nc bnc" id="L505" title="All 2 branches missed.">      for (int i = 0; i &lt; strA.length(); i++) {</span>
<span class="nc" id="L506">         char c = strA.charAt(i);</span>

<span class="nc bnc" id="L508" title="All 17 branches missed.">         switch (Character.toUpperCase(c)) {</span>

         case '0' :
<span class="nc bnc" id="L511" title="All 2 branches missed.">            if (nextCharIsUpper) {</span>
<span class="nc" id="L512">               sum = (byte) 0x00;</span>
<span class="nc" id="L513">               nextCharIsUpper = false;</span>
            } else {
<span class="nc" id="L515">               sum |= (byte) 0x00;</span>
<span class="nc" id="L516">               result.write(sum);</span>
<span class="nc" id="L517">               nextCharIsUpper = true;</span>
            }
<span class="nc" id="L519">            break;</span>

         case '1' :
<span class="nc bnc" id="L522" title="All 2 branches missed.">            if (nextCharIsUpper) {</span>
<span class="nc" id="L523">               sum = (byte) 0x10;</span>
<span class="nc" id="L524">               nextCharIsUpper = false;</span>
            } else {
<span class="nc" id="L526">               sum |= (byte) 0x01;</span>
<span class="nc" id="L527">               result.write(sum);</span>
<span class="nc" id="L528">               nextCharIsUpper = true;</span>
            }
<span class="nc" id="L530">            break;</span>

         case '2' :
<span class="nc bnc" id="L533" title="All 2 branches missed.">            if (nextCharIsUpper) {</span>
<span class="nc" id="L534">               sum = (byte) 0x20;</span>
<span class="nc" id="L535">               nextCharIsUpper = false;</span>
            } else {
<span class="nc" id="L537">               sum |= (byte) 0x02;</span>
<span class="nc" id="L538">               result.write(sum);</span>
<span class="nc" id="L539">               nextCharIsUpper = true;</span>
            }
<span class="nc" id="L541">            break;</span>

         case '3' :
<span class="nc bnc" id="L544" title="All 2 branches missed.">            if (nextCharIsUpper) {</span>
<span class="nc" id="L545">               sum = (byte) 0x30;</span>
<span class="nc" id="L546">               nextCharIsUpper = false;</span>
            } else {
<span class="nc" id="L548">               sum |= (byte) 0x03;</span>
<span class="nc" id="L549">               result.write(sum);</span>
<span class="nc" id="L550">               nextCharIsUpper = true;</span>
            }
<span class="nc" id="L552">            break;</span>

         case '4' :
<span class="nc bnc" id="L555" title="All 2 branches missed.">            if (nextCharIsUpper) {</span>
<span class="nc" id="L556">               sum = (byte) 0x40;</span>
<span class="nc" id="L557">               nextCharIsUpper = false;</span>
            } else {
<span class="nc" id="L559">               sum |= (byte) 0x04;</span>
<span class="nc" id="L560">               result.write(sum);</span>
<span class="nc" id="L561">               nextCharIsUpper = true;</span>
            }
<span class="nc" id="L563">            break;</span>

         case '5' :
<span class="nc bnc" id="L566" title="All 2 branches missed.">            if (nextCharIsUpper) {</span>
<span class="nc" id="L567">               sum = (byte) 0x50;</span>
<span class="nc" id="L568">               nextCharIsUpper = false;</span>
            } else {
<span class="nc" id="L570">               sum |= (byte) 0x05;</span>
<span class="nc" id="L571">               result.write(sum);</span>
<span class="nc" id="L572">               nextCharIsUpper = true;</span>
            }
<span class="nc" id="L574">            break;</span>

         case '6' :
<span class="nc bnc" id="L577" title="All 2 branches missed.">            if (nextCharIsUpper) {</span>
<span class="nc" id="L578">               sum = (byte) 0x60;</span>
<span class="nc" id="L579">               nextCharIsUpper = false;</span>
            } else {
<span class="nc" id="L581">               sum |= (byte) 0x06;</span>
<span class="nc" id="L582">               result.write(sum);</span>
<span class="nc" id="L583">               nextCharIsUpper = true;</span>
            }
<span class="nc" id="L585">            break;</span>

         case '7' :
<span class="nc bnc" id="L588" title="All 2 branches missed.">            if (nextCharIsUpper) {</span>
<span class="nc" id="L589">               sum = (byte) 0x70;</span>
<span class="nc" id="L590">               nextCharIsUpper = false;</span>
            } else {
<span class="nc" id="L592">               sum |= (byte) 0x07;</span>
<span class="nc" id="L593">               result.write(sum);</span>
<span class="nc" id="L594">               nextCharIsUpper = true;</span>
            }
<span class="nc" id="L596">            break;</span>

         case '8' :
<span class="nc bnc" id="L599" title="All 2 branches missed.">            if (nextCharIsUpper) {</span>
<span class="nc" id="L600">               sum = (byte) 0x80;</span>
<span class="nc" id="L601">               nextCharIsUpper = false;</span>
            } else {
<span class="nc" id="L603">               sum |= (byte) 0x08;</span>
<span class="nc" id="L604">               result.write(sum);</span>
<span class="nc" id="L605">               nextCharIsUpper = true;</span>
            }
<span class="nc" id="L607">            break;</span>

         case '9' :
<span class="nc bnc" id="L610" title="All 2 branches missed.">            if (nextCharIsUpper) {</span>
<span class="nc" id="L611">               sum = (byte) 0x90;</span>
<span class="nc" id="L612">               nextCharIsUpper = false;</span>
            } else {
<span class="nc" id="L614">               sum |= (byte) 0x09;</span>
<span class="nc" id="L615">               result.write(sum);</span>
<span class="nc" id="L616">               nextCharIsUpper = true;</span>
            }
<span class="nc" id="L618">            break;</span>

         case 'A' :
<span class="nc bnc" id="L621" title="All 2 branches missed.">            if (nextCharIsUpper) {</span>
<span class="nc" id="L622">               sum = (byte) 0xA0;</span>
<span class="nc" id="L623">               nextCharIsUpper = false;</span>
            } else {
<span class="nc" id="L625">               sum |= (byte) 0x0A;</span>
<span class="nc" id="L626">               result.write(sum);</span>
<span class="nc" id="L627">               nextCharIsUpper = true;</span>
            }
<span class="nc" id="L629">            break;</span>

         case 'B' :
<span class="nc bnc" id="L632" title="All 2 branches missed.">            if (nextCharIsUpper) {</span>
<span class="nc" id="L633">               sum = (byte) 0xB0;</span>
<span class="nc" id="L634">               nextCharIsUpper = false;</span>
            } else {
<span class="nc" id="L636">               sum |= (byte) 0x0B;</span>
<span class="nc" id="L637">               result.write(sum);</span>
<span class="nc" id="L638">               nextCharIsUpper = true;</span>
            }
<span class="nc" id="L640">            break;</span>

         case 'C' :
<span class="nc bnc" id="L643" title="All 2 branches missed.">            if (nextCharIsUpper) {</span>
<span class="nc" id="L644">               sum = (byte) 0xC0;</span>
<span class="nc" id="L645">               nextCharIsUpper = false;</span>
            } else {
<span class="nc" id="L647">               sum |= (byte) 0x0C;</span>
<span class="nc" id="L648">               result.write(sum);</span>
<span class="nc" id="L649">               nextCharIsUpper = true;</span>
            }
<span class="nc" id="L651">            break;</span>

         case 'D' :
<span class="nc bnc" id="L654" title="All 2 branches missed.">            if (nextCharIsUpper) {</span>
<span class="nc" id="L655">               sum = (byte) 0xD0;</span>
<span class="nc" id="L656">               nextCharIsUpper = false;</span>
            } else {
<span class="nc" id="L658">               sum |= (byte) 0x0D;</span>
<span class="nc" id="L659">               result.write(sum);</span>
<span class="nc" id="L660">               nextCharIsUpper = true;</span>
            }
<span class="nc" id="L662">            break;</span>

         case 'E' :
<span class="nc bnc" id="L665" title="All 2 branches missed.">            if (nextCharIsUpper) {</span>
<span class="nc" id="L666">               sum = (byte) 0xE0;</span>
<span class="nc" id="L667">               nextCharIsUpper = false;</span>
            } else {
<span class="nc" id="L669">               sum |= (byte) 0x0E;</span>
<span class="nc" id="L670">               result.write(sum);</span>
<span class="nc" id="L671">               nextCharIsUpper = true;</span>
            }
<span class="nc" id="L673">            break;</span>

         case 'F' :
<span class="nc bnc" id="L676" title="All 2 branches missed.">            if (nextCharIsUpper) {</span>
<span class="nc" id="L677">               sum = (byte) 0xF0;</span>
<span class="nc" id="L678">               nextCharIsUpper = false;</span>
            } else {
<span class="nc" id="L680">               sum |= (byte) 0x0F;</span>
<span class="nc" id="L681">               result.write(sum);</span>
<span class="nc" id="L682">               nextCharIsUpper = true;</span>
            }
            break;
         }
      }

<span class="nc bnc" id="L688" title="All 2 branches missed.">      if (!nextCharIsUpper) {</span>
<span class="nc" id="L689">         throw new RuntimeException(&quot;The String did not contain an equal number of hex digits&quot;);</span>
      }

<span class="nc" id="L692">      return result.toByteArray();</span>
   }

   /*
    * Converts a byte to hex digit and writes to the supplied buffer
    */

   /**
    *  Description of the Method
    *
    * @param  b    Description of Parameter
    * @param  buf  Description of Parameter
    */
   private static void byte2hex(byte b, StringBuffer buf) {

<span class="nc" id="L707">      char[] hexChars = { '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A',</span>
                          'B', 'C', 'D', 'E', 'F' };
<span class="nc" id="L709">      int high = ((b &amp; 0xf0) &gt;&gt; 4);</span>
<span class="nc" id="L710">      int low = (b &amp; 0x0f);</span>

<span class="nc" id="L712">      buf.append(hexChars[high]);</span>
<span class="nc" id="L713">      buf.append(hexChars[low]);</span>
<span class="nc" id="L714">   }</span>

   /**
    *  Description of the Method
    *
    * @param  b    Description of Parameter
    * @param  buf  Description of Parameter
    */
   private static void byte2bin(byte b, StringBuffer buf) {

      // test every 8 bit
<span class="nc bnc" id="L725" title="All 2 branches missed.">      for (int i = 0; i &lt; 8; i++) {</span>

         //---test if bit is set
<span class="nc bnc" id="L728" title="All 2 branches missed.">         if ((b &amp; COMPARE_BITS[i]) != 0) {</span>
<span class="nc" id="L729">            buf.append(BIT_DIGIT[1]);</span>
         } else {
<span class="nc" id="L731">            buf.append(BIT_DIGIT[0]);</span>
         }
      }
<span class="nc" id="L734">   }</span>

   /**
    *  Returns a string of 8 hexadecimal digits (most significant digit first)
    *  corresponding to the integer &lt;i&gt;n&lt;/i&gt; , which is treated as unsigned.
    *
    * @param  n  Description of Parameter
    * @return    Description of the Returned Value
    */
   private static String intToHexString(int n) {

<span class="nc" id="L745">      char[] buf = new char[8];</span>

<span class="nc bnc" id="L747" title="All 2 branches missed.">      for (int i = 7; i &gt;= 0; i--) {</span>
<span class="nc" id="L748">         buf[i] = HEX_DIGITS[n &amp; 0x0F];</span>
<span class="nc" id="L749">         n &gt;&gt;&gt;= 4;</span>
      }

<span class="nc" id="L752">      return new String(buf);</span>
   }

   /**
    *  test and demo for the Convert class
    *
    * @param  args  none needed
    */
   public static void main(String args[]) {

<span class="nc" id="L762">      System.out.println(&quot;-test and demo of the converter &quot;);</span>

      // enable debug outputs
<span class="nc" id="L765">      setDebug(false);</span>

<span class="nc" id="L767">      String str = new String(&quot;Niko&quot;);</span>
<span class="nc" id="L768">      byte[] ba = str.getBytes();</span>

<span class="nc" id="L770">      System.out.println(&quot;to convert: &quot; + str);</span>
<span class="nc" id="L771">      System.out.println(&quot;converted1: &quot; + byteArrayToHexString(ba));</span>
<span class="nc" id="L772">      System.out.println(&quot;converted1: &quot;</span>
                         + byteArrayToHexString(ba, 0, ba.length));
<span class="nc" id="L774">      System.out.println(&quot;converted3: &quot; + stringToHexString(str));</span>
<span class="nc" id="L775">      System.out.println(&quot;----Convert integer to hexString...&quot;);</span>

<span class="nc" id="L777">      int i = -2;</span>

<span class="nc" id="L779">      System.out.println(&quot;to convert: &quot; + i + &quot; -&gt; &quot; + intToHexString(i));</span>
<span class="nc" id="L780">      System.out.println(&quot;----Convert byte[] to binary String...&quot;);</span>

<span class="nc" id="L782">      byte[] baToConvert = { (byte) 0xff, (byte) 0x00, (byte) 0x33, (byte) 0x11,</span>
                             (byte) 0xff, (byte) 0x5f, (byte) 0x5f, (byte) 0x4f,
                             (byte) 0x1f, (byte) 0xff };

<span class="nc" id="L786">      System.out.println(&quot;to convert: &quot; + toHexString(baToConvert) + &quot; -&gt; &quot;</span>
                         + byteArrayToBinaryString(baToConvert));

      //---- modify line separator
<span class="nc" id="L790">      setByteSeparator('-');</span>
<span class="nc" id="L791">      System.out.println(&quot;to convert: &quot; + toHexString(baToConvert) + &quot; -&gt; &quot;</span>
                         + byteArrayToBinaryString(baToConvert));

      //---- modify line separator
<span class="nc" id="L795">      setByteSeparator('*');</span>
<span class="nc" id="L796">      setWithByteSeparator(true);</span>
<span class="nc" id="L797">      System.out.println(&quot;to convert: &quot; + toHexString(baToConvert) + &quot; -&gt; &quot;</span>
                         + byteArrayToBinaryString(baToConvert));

      //---- modify bit digits
<span class="nc" id="L801">      char[] bd = { 'a', 'b' };</span>

      try {
<span class="nc" id="L804">         setBitDigits(bd);</span>
<span class="nc" id="L805">      } catch (Exception ex) {</span>
<span class="nc" id="L806">         ex.printStackTrace();</span>
<span class="nc" id="L807">      }</span>

<span class="nc" id="L809">      System.out.println(&quot;to convert: &quot; + toHexString(baToConvert) + &quot; -&gt; &quot;</span>
                         + byteArrayToBinaryString(baToConvert));

      //------------------------------------------------//
<span class="nc" id="L813">      setBitDigits('0', '1');</span>
<span class="nc" id="L814">      System.out.println(&quot;---- Convert.toByteArray(int) &quot;);</span>

<span class="nc bnc" id="L816" title="All 2 branches missed.">      for (int iToConvert = -10; iToConvert &lt; 10; iToConvert++) {</span>
<span class="nc" id="L817">         System.out.println(&quot;to convert = &quot; + iToConvert + &quot; = &quot;</span>
                            + HexDump.toBinaryString(iToConvert));

<span class="nc" id="L820">         byte[] baConvInt = new byte[4];</span>

<span class="nc" id="L822">         baConvInt = HexDump.toByteArray(iToConvert);</span>

<span class="nc" id="L824">         System.out.println(&quot;convertet byteArray = &quot;</span>
                            + HexDump.toBinaryString(baConvInt));
      }

<span class="nc" id="L828">      System.out.println(&quot;---- toHexString(int) &quot;);</span>

<span class="nc" id="L830">      i = -1;</span>

<span class="nc" id="L832">      System.out.println(i + &quot; = 0x&quot; + toHexString(i) + &quot; = &quot;</span>
                         + toBinaryString(i));

<span class="nc" id="L835">      i++;</span>

<span class="nc" id="L837">      System.out.println(i + &quot; = 0x&quot; + toHexString(i) + &quot; = &quot;</span>
                         + toBinaryString(i));

      //------------------------------------------------//
<span class="nc" id="L841">      System.out.println(&quot;---- toHexString(long) &quot;);</span>

<span class="nc" id="L843">      long l = 100;</span>

<span class="nc" id="L845">      System.out.println(l + &quot; = 0x&quot; + toHexString(l) + &quot; = &quot;</span>
                         + toBinaryString(l));

<span class="nc" id="L848">      java.util.Random rnd = new java.util.Random();</span>

<span class="nc" id="L850">      l = rnd.nextLong();</span>

<span class="nc" id="L852">      System.out.println(l + &quot; = 0x&quot; + toHexString(l) + &quot; = &quot;</span>
                         + toBinaryString(l));

      //------------------------------------------------//
<span class="nc" id="L856">      System.out.println(&quot;---- toHexString(short) &quot;);</span>

<span class="nc" id="L858">      short s = 100;</span>

<span class="nc" id="L860">      System.out.println(s + &quot; = 0x&quot; + toHexString(s) + &quot; = &quot;</span>
                         + toBinaryString(s));

<span class="nc" id="L863">      rnd = new java.util.Random();</span>
<span class="nc" id="L864">      s = (short) rnd.nextInt();</span>

<span class="nc" id="L866">      System.out.println(s + &quot; = 0x&quot; + toHexString(s) + &quot; = &quot;</span>
                         + toBinaryString(s));

      //---------------------------------------------------------------------------//
      // convert dezimal-String to binary
<span class="nc" id="L871">      System.out.println(&quot;---- read file in Hex-Format &quot;);</span>

<span class="nc" id="L873">      String strToConvert = &quot;12345654321&quot;;</span>

<span class="nc" id="L875">      System.out.println(strToConvert + &quot; = &quot;</span>
                         + stringToHexString(strToConvert));
<span class="nc" id="L877">      System.out.println(&quot;Das ist die Hex-Darstellung des obigen Strings&quot;);</span>

<span class="nc" id="L879">      byte[] baConverted = new byte[strToConvert.length()];</span>

<span class="nc" id="L881">      baConverted = hexStringToByteArray(strToConvert);</span>

<span class="nc" id="L883">      System.out.println(&quot;ba = &quot; + toHexString(ba));</span>
<span class="nc" id="L884">   }</span>
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.7.9.201702052155</span></div></body></html>